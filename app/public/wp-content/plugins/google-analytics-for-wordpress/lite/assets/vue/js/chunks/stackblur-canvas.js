function X(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?X=function(l){return typeof l}:X=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},X(o)}function L2(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var M2=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],N2=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function P2(o,l,g,s,y){if(typeof o=="string"&&(o=document.getElementById(o)),!o||X(o)!=="object"||!("getContext"in o))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var v=o.getContext("2d");try{return v.getImageData(l,g,s,y)}catch(e){throw new Error("unable to access image data: "+e)}}function q2(o,l,g,s,y,v){if(!(isNaN(v)||v<1)){v|=0;var e=P2(o,l,g,s,y);e=U2(e,l,g,s,y,v),o.getContext("2d").putImageData(e,l,g)}}function U2(o,l,g,s,y,v){for(var e=o.data,F2=2*v+1,w=s-1,Y=y-1,a=v+1,x=a*(a+1)/2,D=new G2,t=D,j,d=1;d<F2;d++)t=t.next=new G2,d===a&&(j=t);t.next=D;for(var n=null,i=null,y2=0,r=0,C=M2[v],A=N2[v],x2=0;x2<y;x2++){t=D;for(var b=e[r],I=e[r+1],O=e[r+2],u=e[r+3],C2=0;C2<a;C2++)t.r=b,t.g=I,t.b=O,t.a=u,t=t.next;for(var G=0,F=0,L=0,M=0,p=a*b,m=a*I,S=a*O,_=a*u,N=x*b,P=x*I,U=x*O,q=x*u,T=1;T<a;T++){var z=r+((w<T?w:T)<<2),A2=e[z],B2=e[z+1],E2=e[z+2],h2=e[z+3],H=a-T;N+=(t.r=A2)*H,P+=(t.g=B2)*H,U+=(t.b=E2)*H,q+=(t.a=h2)*H,G+=A2,F+=B2,L+=E2,M+=h2,t=t.next}n=D,i=j;for(var e2=0;e2<s;e2++){var t2=q*C>>>A;if(e[r+3]=t2,t2!==0){var r2=255/t2;e[r]=(N*C>>>A)*r2,e[r+1]=(P*C>>>A)*r2,e[r+2]=(U*C>>>A)*r2}else e[r]=e[r+1]=e[r+2]=0;N-=p,P-=m,U-=S,q-=_,p-=n.r,m-=n.g,S-=n.b,_-=n.a;var B=e2+v+1;B=y2+(B<w?B:w)<<2,G+=n.r=e[B],F+=n.g=e[B+1],L+=n.b=e[B+2],M+=n.a=e[B+3],N+=G,P+=F,U+=L,q+=M,n=n.next;var J=i,k2=J.r,g2=J.g,D2=J.b,R2=J.a;p+=k2,m+=g2,S+=D2,_+=R2,G-=k2,F-=g2,L-=D2,M-=R2,i=i.next,r+=4}y2+=s}for(var R=0;R<s;R++){r=R<<2;var E=e[r],h=e[r+1],k=e[r+2],c=e[r+3],n2=a*E,o2=a*h,a2=a*k,l2=a*c,K=x*E,Q=x*h,V=x*k,W=x*c;t=D;for(var T2=0;T2<a;T2++)t.r=E,t.g=h,t.b=k,t.a=c,t=t.next;for(var w2=s,c2=0,f2=0,s2=0,v2=0,Z=1;Z<=v;Z++){r=w2+R<<2;var $=a-Z;K+=(t.r=E=e[r])*$,Q+=(t.g=h=e[r+1])*$,V+=(t.b=k=e[r+2])*$,W+=(t.a=c=e[r+3])*$,v2+=E,c2+=h,f2+=k,s2+=c,t=t.next,Z<Y&&(w2+=s)}r=R,n=D,i=j;for(var i2=0;i2<y;i2++){var f=r<<2;e[f+3]=c=W*C>>>A,c>0?(c=255/c,e[f]=(K*C>>>A)*c,e[f+1]=(Q*C>>>A)*c,e[f+2]=(V*C>>>A)*c):e[f]=e[f+1]=e[f+2]=0,K-=n2,Q-=o2,V-=a2,W-=l2,n2-=n.r,o2-=n.g,a2-=n.b,l2-=n.a,f=R+((f=i2+a)<Y?f:Y)*s<<2,K+=v2+=n.r=e[f],Q+=c2+=n.g=e[f+1],V+=f2+=n.b=e[f+2],W+=s2+=n.a=e[f+3],n=n.next,n2+=E=i.r,o2+=h=i.g,a2+=k=i.b,l2+=c=i.a,v2-=E,c2-=h,f2-=k,s2-=c,i=i.next,r+=s}}return o}var G2=function o(){L2(this,o),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};export{q2 as p};
