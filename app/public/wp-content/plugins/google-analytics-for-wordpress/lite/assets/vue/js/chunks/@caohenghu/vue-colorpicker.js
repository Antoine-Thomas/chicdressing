function f(s,e,t,r,i,n,o,l){var a=typeof s=="function"?s.options:s;e&&(a.render=e,a.staticRenderFns=t,a._compiled=!0),r&&(a.functional=!0),n&&(a._scopeId="data-v-"+n);var c;if(o?(c=function(u){u=u||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!u&&typeof __VUE_SSR_CONTEXT__<"u"&&(u=__VUE_SSR_CONTEXT__),i&&i.call(this,u),u&&u._registeredComponents&&u._registeredComponents.add(o)},a._ssrRegister=c):i&&(c=l?function(){i.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(a.functional){a._injectStyles=c;var h=a.render;a.render=function(m,p){return c.call(p),h(m,p)}}else{var d=a.beforeCreate;a.beforeCreate=d?[].concat(d,c):[c]}return{exports:s,options:a}}const v={methods:{setColorValue(s){let e={r:0,g:0,b:0,a:1};/#/.test(s)?e=this.hex2rgb(s):/rgb/.test(s)?e=this.rgb2rgba(s):typeof s=="string"?e=this.rgb2rgba(`rgba(${s})`):Object.prototype.toString.call(s)==="[object Object]"&&(e=s);const{r:t,g:r,b:i,a:n}=e,{h:o,s:l,v:a}=this.rgb2hsv(e);return{r:t,g:r,b:i,a:n===void 0?1:n,h:o,s:l,v:a}},createAlphaSquare(s){const e=document.createElement("canvas"),t=e.getContext("2d"),r=s*2;return e.width=r,e.height=r,t.fillStyle="#ffffff",t.fillRect(0,0,r,r),t.fillStyle="#ccd5db",t.fillRect(0,0,s,s),t.fillRect(s,s,s,s),e},createLinearGradient(s,e,t,r,i,n){const o=s==="l",l=e.createLinearGradient(0,0,o?t:0,o?0:r);l.addColorStop(.01,i),l.addColorStop(.99,n),e.fillStyle=l,e.fillRect(0,0,t,r)},rgb2hex({r:s,g:e,b:t},r){const i=o=>("0"+Number(o).toString(16)).slice(-2),n=`#${i(s)}${i(e)}${i(t)}`;return r?n.toUpperCase():n},hex2rgb(s){s=s.slice(1);const e=t=>parseInt(t,16)||0;return{r:e(s.slice(0,2)),g:e(s.slice(2,4)),b:e(s.slice(4,6))}},rgb2rgba(s){return typeof s=="string"?(s=(/rgba?\((.*?)\)/.exec(s)||["","0,0,0,1"])[1].split(","),{r:Number(s[0])||0,g:Number(s[1])||0,b:Number(s[2])||0,a:Number(s[3]?s[3]:1)}):s},rgb2hsv({r:s,g:e,b:t}){s=s/255,e=e/255,t=t/255;const r=Math.max(s,e,t),i=Math.min(s,e,t),n=r-i;let o=0;r===i?o=0:r===s?e>=t?o=60*(e-t)/n:o=60*(e-t)/n+360:r===e?o=60*(t-s)/n+120:r===t&&(o=60*(s-e)/n+240),o=Math.floor(o);let l=parseFloat((r===0?0:1-i/r).toFixed(2)),a=parseFloat(r.toFixed(2));return{h:o,s:l,v:a}}}};const _={mixins:[v],props:{color:{type:String,default:"#000000"},hsv:{type:Object,default:null},size:{type:Number,default:152}},data(){return{slideSaturationStyle:{}}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const s=this.$refs.canvasSaturation,e=this.size,t=s.getContext("2d");s.width=e,s.height=e,t.fillStyle=this.color,t.fillRect(0,0,e,e),this.createLinearGradient("l",t,e,e,"#FFFFFF","rgba(255,255,255,0)"),this.createLinearGradient("p",t,e,e,"rgba(0,0,0,0)","#000000")},renderSlide(){this.slideSaturationStyle={left:this.hsv.s*this.size-5+"px",top:(1-this.hsv.v)*this.size-5+"px"}},selectSaturation(s){const{top:e,left:t}=this.$el.getBoundingClientRect(),r=s.target.getContext("2d"),i=o=>{let l=o.clientX-t,a=o.clientY-e;l<0&&(l=0),a<0&&(a=0),l>this.size&&(l=this.size),a>this.size&&(a=this.size),this.slideSaturationStyle={left:l-5+"px",top:a-5+"px"};const c=r.getImageData(Math.min(l,this.size-1),Math.min(a,this.size-1),1,1),[h,d,u]=c.data;this.$emit("selectSaturation",{r:h,g:d,b:u})};i(s);const n=()=>{document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",n)}}};var y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"saturation",on:{mousedown:function(r){return r.preventDefault(),r.stopPropagation(),e.selectSaturation.apply(null,arguments)}}},[t("canvas",{ref:"canvasSaturation"}),t("div",{staticClass:"slide",style:e.slideSaturationStyle})])},S=[],C=f(_,y,S,!1,null,null,null,null);const x=C.exports;const b={props:{hsv:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},data(){return{slideHueStyle:{}}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const s=this.$refs.canvasHue,e=this.width,t=this.height,r=s.getContext("2d");s.width=e,s.height=t;const i=r.createLinearGradient(0,0,0,t);i.addColorStop(0,"#FF0000"),i.addColorStop(.17*1,"#FF00FF"),i.addColorStop(.17*2,"#0000FF"),i.addColorStop(.17*3,"#00FFFF"),i.addColorStop(.17*4,"#00FF00"),i.addColorStop(.17*5,"#FFFF00"),i.addColorStop(1,"#FF0000"),r.fillStyle=i,r.fillRect(0,0,e,t)},renderSlide(){this.slideHueStyle={top:(1-this.hsv.h/360)*this.height-2+"px"}},selectHue(s){const{top:e}=this.$el.getBoundingClientRect(),t=s.target.getContext("2d"),r=n=>{let o=n.clientY-e;o<0&&(o=0),o>this.height&&(o=this.height),this.slideHueStyle={top:o-2+"px"};const l=t.getImageData(0,Math.min(o,this.height-1),1,1),[a,c,h]=l.data;this.$emit("selectHue",{r:a,g:c,b:h})};r(s);const i=()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",i)}}};var k=function(){var e=this,t=e._self._c;return t("div",{staticClass:"hue",on:{mousedown:function(r){return r.preventDefault(),r.stopPropagation(),e.selectHue.apply(null,arguments)}}},[t("canvas",{ref:"canvasHue"}),t("div",{staticClass:"slide",style:e.slideHueStyle})])},$=[],F=f(b,k,$,!1,null,null,null,null);const w=F.exports;const H={mixins:[v],props:{color:{type:String,default:"#000000"},rgba:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},data(){return{slideAlphaStyle:{},alphaSize:5}},watch:{color(){this.renderColor()},"rgba.a"(){this.renderSlide()}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const s=this.$refs.canvasAlpha,e=this.width,t=this.height,r=this.alphaSize,i=this.createAlphaSquare(r),n=s.getContext("2d");s.width=e,s.height=t,n.fillStyle=n.createPattern(i,"repeat"),n.fillRect(0,0,e,t),this.createLinearGradient("p",n,e,t,"rgba(255,255,255,0)",this.color)},renderSlide(){this.slideAlphaStyle={top:this.rgba.a*this.height-2+"px"}},selectAlpha(s){const{top:e}=this.$el.getBoundingClientRect(),t=i=>{let n=i.clientY-e;n<0&&(n=0),n>this.height&&(n=this.height);let o=parseFloat((n/this.height).toFixed(2));this.$emit("selectAlpha",o)};t(s);const r=()=>{document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",r)}}};var A=function(){var e=this,t=e._self._c;return t("div",{staticClass:"color-alpha",on:{mousedown:function(r){return r.preventDefault(),r.stopPropagation(),e.selectAlpha.apply(null,arguments)}}},[t("canvas",{ref:"canvasAlpha"}),t("div",{staticClass:"slide",style:e.slideAlphaStyle})])},R=[],L=f(H,A,R,!1,null,null,null,null);const E=L.exports,O={mixins:[v],props:{color:{type:String,default:"#000000"},width:{type:Number,default:100},height:{type:Number,default:30}},data(){return{alphaSize:5}},watch:{color(){this.renderColor()}},mounted(){this.renderColor()},methods:{renderColor(){const s=this.$el,e=this.width,t=this.height,r=this.alphaSize,i=this.createAlphaSquare(r),n=s.getContext("2d");s.width=e,s.height=t,n.fillStyle=n.createPattern(i,"repeat"),n.fillRect(0,0,e,t),n.fillStyle=this.color,n.fillRect(0,0,e,t)}}};var T=function(){var e=this,t=e._self._c;return t("canvas")},B=[],N=f(O,T,B,!1,null,null,null,null);const D=N.exports,P=""+new URL("../../../img/sucker.png",import.meta.url).href;const z={props:{suckerCanvas:{type:null,default:null},suckerArea:{type:Array,default:()=>[]}},data(){return{isOpenSucker:!1,suckerPreview:null,isSucking:!1}},watch:{suckerCanvas(s){this.isSucking=!1,this.suckColor(s),s.style.cursor=`url(${P}) 0 32, default`}},methods:{openSucker(){this.isOpenSucker?this.keydownHandler({keyCode:27}):(this.isOpenSucker=!0,this.isSucking=!0,this.$emit("openSucker",!0),document.addEventListener("keydown",this.keydownHandler))},keydownHandler(s){s.keyCode===27&&(this.isOpenSucker=!1,this.isSucking=!1,this.$emit("openSucker",!1),document.removeEventListener("keydown",this.keydownHandler),document.removeEventListener("mousemove",this.mousemoveHandler),document.removeEventListener("mouseup",this.mousemoveHandler),this.suckerPreview&&(document.body.removeChild(this.suckerPreview),this.suckerPreview=null))},mousemoveHandler(s){const{clientX:e,clientY:t}=s,{top:r,left:i,width:n,height:o}=this.suckerCanvas.getBoundingClientRect(),l=e-i,a=t-r,h=this.suckerCanvas.getContext("2d").getImageData(Math.min(l,n-1),Math.min(a,o-1),1,1);let[d,u,m,p]=h.data;p=parseFloat((p/255).toFixed(2));const g=this.suckerPreview.style;Object.assign(g,{position:"absolute",left:e+20+"px",top:t-36+"px",width:"24px",height:"24px",borderRadius:"50%",border:"2px solid #fff",boxShadow:"0 0 8px 0 rgba(0, 0, 0, 0.16)",background:`rgba(${d}, ${u}, ${m}, ${p})`,zIndex:95}),e>=this.suckerArea[0]&&t>=this.suckerArea[1]&&e<=this.suckerArea[2]&&t<=this.suckerArea[3]?g.display="":g.display="none"},suckColor(s){s&&s.tagName!=="CANVAS"||(this.suckerPreview=document.createElement("div"),document.body.appendChild(this.suckerPreview),document.addEventListener("mousemove",this.mousemoveHandler),document.addEventListener("mouseup",this.mousemoveHandler),s.addEventListener("click",e=>{const{clientX:t,clientY:r}=e,{top:i,left:n,width:o,height:l}=s.getBoundingClientRect(),a=t-n,c=r-i,d=s.getContext("2d").getImageData(Math.min(a,o-1),Math.min(c,l-1),1,1);let[u,m,p,g]=d.data;g=parseFloat((g/255).toFixed(2)),this.$emit("selectSucker",{r:u,g:m,b:p,a:g})}))}}};var j=function(){var e=this,t=e._self._c;return t("div",[e.isSucking?e._e():t("svg",{staticClass:"sucker",class:{active:e.isOpenSucker},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"-12 -12 48 48"},on:{click:e.openSucker}},[t("path",{attrs:{d:"M13.1,8.2l5.6,5.6c0.4,0.4,0.5,1.1,0.1,1.5s-1.1,0.5-1.5,0.1c0,0-0.1,0-0.1-0.1l-1.4-1.4l-7.7,7.7C7.9,21.9,7.6,22,7.3,22H3.1C2.5,22,2,21.5,2,20.9l0,0v-4.2c0-0.3,0.1-0.6,0.3-0.8l5.8-5.8C8.5,9.7,9.2,9.6,9.7,10s0.5,1.1,0.1,1.5c0,0,0,0.1-0.1,0.1l-5.5,5.5v2.7h2.7l7.4-7.4L8.7,6.8c-0.5-0.4-0.5-1-0.1-1.5s1.1-0.5,1.5-0.1c0,0,0.1,0,0.1,0.1l1.4,1.4l3.5-3.5c1.6-1.6,4.1-1.6,5.8-0.1c1.6,1.6,1.6,4.1,0.1,5.8L20.9,9l-3.6,3.6c-0.4,0.4-1.1,0.5-1.5,0.1"}})]),e.isSucking?t("svg",{staticClass:"sucker",attrs:{viewBox:"-16 -16 68 68",xmlns:"http://www.w3.org/2000/svg",stroke:"#9099a4"}},[t("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[t("g",{attrs:{transform:"translate(1 1)","stroke-width":"4"}},[t("circle",{attrs:{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}}),t("path",{attrs:{d:"M36 18c0-9.94-8.06-18-18-18"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}})],1)])])]):e._e()])},M=[],V=f(z,j,M,!1,null,null,null,null);const W=V.exports;const I={props:{name:{type:String,default:""},color:{type:String,default:""}},computed:{modelColor:{get(){return this.color},set(s){this.$emit("inputColor",s)}}}};var G=function(){var e=this,t=e._self._c;return t("div",{staticClass:"color-type"},[t("span",{staticClass:"name"},[e._v(" "+e._s(e.name)+" ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.modelColor,expression:"modelColor"}],staticClass:"value",domProps:{value:e.modelColor},on:{input:function(r){r.target.composing||(e.modelColor=r.target.value)}}})])},q=[],U=f(I,G,q,!1,null,null,null,null);const X=U.exports;const K={mixins:[v],props:{color:{type:String,default:"#000000"},colorsDefault:{type:Array,default:()=>[]},colorsHistoryKey:{type:String,default:""}},data(){return{imgAlphaBase64:"",colorsHistory:JSON.parse(localStorage.getItem(this.colorsHistoryKey))||[]}},created(){this.imgAlphaBase64=this.createAlphaSquare(4).toDataURL()},destroyed(){this.setColorsHistory(this.color)},methods:{selectColor(s){this.$emit("selectColor",s)},setColorsHistory(s){if(!s)return;const e=this.colorsHistory,t=e.indexOf(s);t>=0&&e.splice(t,1),e.length>=8&&(e.length=7),e.unshift(s),this.colorsHistory=e,localStorage.setItem(this.colorsHistoryKey,JSON.stringify(e))}}};var Y=function(){var e=this,t=e._self._c;return t("div",[t("ul",{staticClass:"colors"},e._l(e.colorsDefault,function(r){return t("li",{key:r,staticClass:"item",on:{click:function(i){return e.selectColor(r)}}},[t("div",{staticClass:"alpha",style:{background:`url(${e.imgAlphaBase64})`}}),t("div",{staticClass:"color",style:{background:r}})])}),0),e.colorsHistory.length?t("ul",{staticClass:"colors history"},e._l(e.colorsHistory,function(r){return t("li",{key:r,staticClass:"item",on:{click:function(i){return e.selectColor(r)}}},[t("div",{staticClass:"alpha",style:{background:`url(${e.imgAlphaBase64})`}}),t("div",{staticClass:"color",style:{background:r}})])}),0):e._e()])},J=[],Q=f(K,Y,J,!1,null,null,null,null);const Z=Q.exports;const ee={components:{Saturation:x,Hue:w,Alpha:E,Preview:D,Sucker:W,Box:X,Colors:Z},mixins:[v],props:{color:{type:String,default:"#000000"},theme:{type:String,default:"dark"},suckerHide:{type:Boolean,default:!0},suckerCanvas:{type:null,default:null},suckerArea:{type:Array,default:()=>[]},colorsDefault:{type:Array,default:()=>["#000000","#FFFFFF","#FF1900","#F47365","#FFB243","#FFE623","#6EFF2A","#1BC7B1","#00BEFF","#2E81FF","#5D61FF","#FF89CF","#FC3CAD","#BF3DCE","#8E00A7","rgba(0,0,0,0)"]},colorsHistoryKey:{type:String,default:"vue-colorpicker-history"}},data(){return{hueWidth:15,hueHeight:152,previewHeight:30,modelRgba:"",modelHex:"",r:0,g:0,b:0,a:1,h:0,s:0,v:0}},computed:{isLightTheme(){return this.theme==="light"},totalWidth(){return this.hueHeight+(this.hueWidth+8)*2},previewWidth(){return this.totalWidth-(this.suckerHide?0:this.previewHeight)},rgba(){return{r:this.r,g:this.g,b:this.b,a:this.a}},hsv(){return{h:this.h,s:this.s,v:this.v}},rgbString(){return`rgb(${this.r}, ${this.g}, ${this.b})`},rgbaStringShort(){return`${this.r}, ${this.g}, ${this.b}, ${this.a}`},rgbaString(){return`rgba(${this.rgbaStringShort})`},hexString(){return this.rgb2hex(this.rgba,!0)}},created(){Object.assign(this,this.setColorValue(this.color)),this.setText(),this.$watch("rgba",()=>{this.$emit("changeColor",{rgba:this.rgba,hsv:this.hsv,hex:this.modelHex})})},methods:{selectSaturation(s){const{r:e,g:t,b:r,h:i,s:n,v:o}=this.setColorValue(s);Object.assign(this,{r:e,g:t,b:r,h:i,s:n,v:o}),this.setText()},selectHue(s){const{r:e,g:t,b:r,h:i,s:n,v:o}=this.setColorValue(s);Object.assign(this,{r:e,g:t,b:r,h:i,s:n,v:o}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide()})},selectAlpha(s){this.a=s,this.setText()},inputHex(s){const{r:e,g:t,b:r,a:i,h:n,s:o,v:l}=this.setColorValue(s);Object.assign(this,{r:e,g:t,b:r,a:i,h:n,s:o,v:l}),this.modelHex=s,this.modelRgba=this.rgbaStringShort,this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},inputRgba(s){const{r:e,g:t,b:r,a:i,h:n,s:o,v:l}=this.setColorValue(s);Object.assign(this,{r:e,g:t,b:r,a:i,h:n,s:o,v:l}),this.modelHex=this.hexString,this.modelRgba=s,this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},setText(){this.modelHex=this.hexString,this.modelRgba=this.rgbaStringShort},openSucker(s){this.$emit("openSucker",s)},selectSucker(s){const{r:e,g:t,b:r,a:i,h:n,s:o,v:l}=this.setColorValue(s);Object.assign(this,{r:e,g:t,b:r,a:i,h:n,s:o,v:l}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},selectColor(s){const{r:e,g:t,b:r,a:i,h:n,s:o,v:l}=this.setColorValue(s);Object.assign(this,{r:e,g:t,b:r,a:i,h:n,s:o,v:l}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})}}};var te=function(){var e=this,t=e._self._c;return t("div",{staticClass:"hu-color-picker",class:{light:e.isLightTheme},style:{width:e.totalWidth+"px"}},[t("div",{staticClass:"color-set"},[t("Saturation",{ref:"saturation",attrs:{color:e.rgbString,hsv:e.hsv,size:e.hueHeight},on:{selectSaturation:e.selectSaturation}}),t("Hue",{ref:"hue",attrs:{hsv:e.hsv,width:e.hueWidth,height:e.hueHeight},on:{selectHue:e.selectHue}}),t("Alpha",{ref:"alpha",attrs:{color:e.rgbString,rgba:e.rgba,width:e.hueWidth,height:e.hueHeight},on:{selectAlpha:e.selectAlpha}})],1),t("div",{staticClass:"color-show",style:{height:e.previewHeight+"px"}},[t("Preview",{attrs:{color:e.rgbaString,width:e.previewWidth,height:e.previewHeight}}),e.suckerHide?e._e():t("Sucker",{attrs:{"sucker-canvas":e.suckerCanvas,"sucker-area":e.suckerArea},on:{openSucker:e.openSucker,selectSucker:e.selectSucker}})],1),t("Box",{attrs:{name:"HEX",color:e.modelHex},on:{inputColor:e.inputHex}}),t("Box",{attrs:{name:"RGBA",color:e.modelRgba},on:{inputColor:e.inputRgba}}),t("Colors",{attrs:{color:e.rgbaString,"colors-default":e.colorsDefault,"colors-history-key":e.colorsHistoryKey},on:{selectColor:e.selectColor}})],1)},se=[],re=f(ee,te,se,!1,null,null,null,null);const ie=re.exports;export{ie as C,f as n};
